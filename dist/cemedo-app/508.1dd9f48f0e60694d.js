"use strict";(self.webpackChunkcemedoApp=self.webpackChunkcemedoApp||[]).push([[508],{94508:(I,p,c)=>{c.r(p),c.d(p,{StatutDocumentModule:()=>z});var d=c(69808),m=c(91083),_=c(86087),u=c(59783),g=c(45330),t=c(5e3),f=c(20774),b=c(67658),Z=c(44534),a=c(24851),C=c(15315),T=c(19114),v=c(17773),x=c(40845),r=c(93075),A=c(31424);function S(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"button",19),t.NdJ("click",function(){return t.CHM(e),t.oxw().openNew()}),t.qZA(),t._uU(1," \xa0 "),t.TgZ(2,"button",20),t.NdJ("click",function(){return t.CHM(e),t.oxw().deleteSelectedProducts()}),t.qZA()}if(2&i){const e=t.oxw();t.xp6(2),t.Q6J("disabled",!e.selectedEntity||!e.selectedEntity.length)}}function y(i,o){1&i&&t._UZ(0,"button",21)}function D(i,o){1&i&&(t.TgZ(0,"tr"),t.TgZ(1,"th",22),t._UZ(2,"p-tableHeaderCheckbox"),t.qZA(),t.TgZ(3,"th",23),t._uU(4,"Nom "),t._UZ(5,"p-sortIcon",24),t.qZA(),t.TgZ(6,"th",25),t._uU(7,"Code "),t._UZ(8,"p-sortIcon",26),t.qZA(),t.TgZ(9,"th",27),t._uU(10,"Actions"),t.qZA(),t.qZA(),t.TgZ(11,"tr"),t.TgZ(12,"th",22),t._UZ(13,"p-tableHeaderCheckbox"),t.qZA(),t.TgZ(14,"th"),t._UZ(15,"p-columnFilter",28),t.qZA(),t.TgZ(16,"th"),t._UZ(17,"p-columnFilter",29),t.qZA(),t._UZ(18,"th"),t.qZA())}function M(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"tr",30),t.TgZ(1,"td"),t._UZ(2,"p-tableCheckbox",31),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td",32),t.TgZ(8,"button",33),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().editProduct(s)}),t.qZA(),t._uU(9," \xa0 "),t.TgZ(10,"button",34),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().deleteProduct(s)}),t.qZA(),t._uU(11,"\xa0 "),t.TgZ(12,"button",35),t.NdJ("click",function(){const s=t.CHM(e).$implicit;return t.oxw().deleteProduct(s)}),t.qZA(),t.qZA(),t.qZA()}if(2&i){const e=o.$implicit;t.Q6J("pSelectableRow",e),t.xp6(2),t.Q6J("value",e),t.xp6(2),t.Oqu(e.libelle),t.xp6(2),t.Oqu(e.code)}}function q(i,o){if(1&i&&(t.TgZ(0,"div",36),t._uU(1),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.hij(" Au total il y a ",e.liste?e.liste.length:0," enregistrement(s). ")}}function U(i,o){1&i&&(t.TgZ(0,"small",43),t._uU(1,"Libelle est requis."),t.qZA())}function R(i,o){1&i&&(t.TgZ(0,"small",43),t._uU(1,"Code est requis."),t.qZA())}function N(i,o){if(1&i){const e=t.EpF();t._UZ(0,"br"),t.TgZ(1,"div",37),t.TgZ(2,"label",38),t._uU(3,"Libelle"),t.qZA(),t.TgZ(4,"input",39),t.NdJ("ngModelChange",function(l){return t.CHM(e),t.oxw().specialite.libelle=l}),t.qZA(),t.YNc(5,U,2,0,"small",40),t.qZA(),t.TgZ(6,"div",37),t.TgZ(7,"label",41),t._uU(8,"Code"),t.qZA(),t.TgZ(9,"input",42),t.NdJ("ngModelChange",function(l){return t.CHM(e),t.oxw().specialite.code=l}),t.qZA(),t.YNc(10,R,2,0,"small",40),t.qZA(),t._UZ(11,"hr")}if(2&i){const e=t.oxw();t.xp6(4),t.Q6J("ngModel",e.specialite.libelle),t.xp6(1),t.Q6J("ngIf",e.submitted&&!e.specialite.libelle),t.xp6(4),t.Q6J("ngModel",e.specialite.code),t.xp6(1),t.Q6J("ngIf",e.submitted&&!e.specialite.code)}}function J(i,o){if(1&i){const e=t.EpF();t.TgZ(0,"button",44),t.NdJ("click",function(){return t.CHM(e),t.oxw().hideDialog()}),t.qZA(),t.TgZ(1,"button",45),t.NdJ("click",function(){return t.CHM(e),t.oxw().saveProduct()}),t.qZA()}}const w=function(i,o){return[7,i,o]},k=function(){return{width:"750px","margin-top":"-90px"}},P=function(){return{width:"450px"}},E=[{path:"liste",component:(()=>{class i{constructor(e,n,l,s){this.dialogService=e,this.service=n,this.messageService=l,this.confirmationService=s,this.selectAll=!1,this.cols=[],this.data_create={id:null,libelle:"",code:null,createdAt:"",updatedAt:"",version:null,active:null},this.data_delete=Array()}ngOnInit(){this.items=[{label:"StatutDocument"},{label:"Liste des statut-documents",routerLink:""}],this.home={icon:"pi pi-home"},this.loading=!0,this.service.getListe().then(e=>{this.liste=e.slice(0,6).filter(n=>0==n.active),this.totalRecords=this.liste.length,console.log(e.length)}),this.service.getListe().then(e=>{this.virtuelle=e.filter(n=>0==n.active),this.totalRecords=this.virtuelle.length,this.loading=!1,console.log(this.virtuelle)})}onSelectAllChange(e){e.checked?this.service.getListe().then(l=>{this.selectedEntity=l,this.selectAll=!0}):(this.selectedEntity=[],this.selectAll=!1)}loadCustomers(e){this.loading=!0,setTimeout(()=>{this.virtuelle&&(this.liste=this.virtuelle.slice(e.first,e.first+e.rows),this.loading=!1)},1e3)}openNew(){this.specialite=this.data_create,this.submitted=!1,this.entityDialog=!0}deleteSelectedProducts(){this.confirmationService.confirm({message:" Voulez vous r\xe9ellement supprimer ces enregistrements ?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:()=>{this.liste=this.liste.filter(e=>!this.selectedEntity.includes(e)),this.selectedEntity.forEach(e=>{this.data_delete.push(e.id)}),this.selectedEntity=null,this.service.deleteSelectedProducts(this.data_delete).subscribe(e=>{this.loading=!0,setTimeout(()=>{this.messageService.add({severity:"success",summary:"Successful",detail:"Enregistrement (s) effectu\xe9 (s) avec succes",life:3e3}),this.loading=!1},1e3)})}})}editProduct(e){this.specialite=Object.assign({},e),this.entityDialog=!0}deleteProduct(e){this.confirmationService.confirm({message:" Voulez vous r\xe9ellement supprimer cet enregistrement ? ",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:()=>{this.liste=this.liste.filter(n=>n.id!==e.id),this.specialite=Object.assign({},e),this.service.delete(this.specialite.id).subscribe(n=>{this.loading=!0,setTimeout(()=>{this.loading=!1,this.messageService.add({severity:"success",summary:"Succes",detail:"Suppression effectu\xe9e avec success",life:3e3})},1e3)})}})}hideDialog(){this.entityDialog=!1,this.submitted=!1}saveProduct(){this.submitted=!0;const e={libelle:this.specialite.libelle,code:this.specialite.code};this.specialite.libelle.trim()&&(this.specialite.id?(this.liste[this.findIndexById(this.specialite.id)]=this.specialite,console.log(this.liste[this.findIndexById(this.specialite.id)]),this.service.update(this.specialite.id,e).subscribe(n=>{this.loading=!0,setTimeout(()=>{this.loading=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Enregistrement (s) effectu\xe9 (s) avec succes",life:3e3})},1e3)})):(this.service.create(e).subscribe(n=>{this.loading=!0,setTimeout(()=>{this.loading=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Ajout effectu\xe9 avec success",life:3e3})},1e3)}),this.liste.push(this.specialite)),this.liste=[...this.liste],this.entityDialog=!1,this.specialite=Object.assign({},this.specialite))}findIndexById(e){let n=-1;for(let l=0;l<this.liste.length;l++)if(this.liste[l].id===e){n=l;break}return n}createId(){return 1}onSelectionChange(e=[]){this.selectAll=e.length===this.totalRecords,this.selectedEntity=e}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(g.xA),t.Y36(f.$),t.Y36(u.ez),t.Y36(u.YP))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-statut-document"]],viewQuery:function(e,n){if(1&e&&t.Gf(_.NW,5),2&e){let l;t.iGM(l=t.CRH())&&(n.paginator=l.first)}},features:[t._Bn([u.ez,u.YP,g.xA])],decls:23,vars:23,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[3,"model","home"],[1,"row","codearfix"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"card"],[1,"body"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],["dataKey","id","styleClass","p-datatable-gridlines","currentPageReportTemplate","Affichage de {first} \xe0 {last} sur  {totalRecords} entr\xe9es",3,"value","lazy","selection","selectAll","paginator","rows","totalRecords","showCurrentPageReport","loading","rowsPerPageOptions","onLazyLoad","selectionChange","selectAllChange"],["dt",""],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],["header","Affections","styleClass","p-fluid el",3,"visible","modal","visibleChange"],["pTemplate","content"],["pTemplate","footer"],["pButton","","pRipple","","label","Nouveau","icon","pi pi-plus",1,"p-button-success","mr-2",3,"click"],["pButton","","pRipple","","label","Supprimer","icon","pi pi-trash",1,"p-button-danger",3,"disabled","click"],["pButton","","pRipple","","label","Imprimer","icon","pi pi-upload",1,"p-button-help","btn-view"],[2,"width","3rem"],["pResizableColumn","","pSortableColumn","libelle"],["field","libelle"],["pResizableColumn","","pSortableColumn","code"],["field","code"],["pResizableColumn",""],["type","text","field","libelle"],["type","text","field","code"],[3,"pSelectableRow"],[3,"value"],["width","200px"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button","p-button-success","btn-sm","btn-edit",3,"click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button","p-button-help","btn-sm","btn-view",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button","p-button-warning","btn-sm","btn-delete",3,"click"],[1,"flex","align-items-center","justify-content-between"],[1,"field"],["for","name"],["type","text","pInputText","","id","libelle","required","","autofocus","",3,"ngModel","ngModelChange"],["class","p-error",4,"ngIf"],["for","code"],["type","text","pInputText","","id","code","required","","autofocus","",3,"ngModel","ngModelChange"],[1,"p-error"],["pButton","","pRipple","","label","Annuler","icon","pi pi-times",1,"p-button","p-button-help",3,"click"],["pButton","","pRipple","","label","Valider","icon","pi pi-check",1,"p-button-success",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"section",0),t.TgZ(1,"div",1),t.TgZ(2,"div",2),t._UZ(3,"br"),t._UZ(4,"p-breadcrumb",3),t._UZ(5,"br"),t.qZA(),t.TgZ(6,"div",4),t.TgZ(7,"div",5),t.TgZ(8,"div",6),t.TgZ(9,"div",7),t.TgZ(10,"p-toolbar",8),t.YNc(11,S,3,1,"ng-template",9),t.YNc(12,y,1,0,"ng-template",10),t.qZA(),t.TgZ(13,"p-table",11,12),t.NdJ("onLazyLoad",function(s){return n.loadCustomers(s)})("selectionChange",function(s){return n.onSelectionChange(s)})("selectAllChange",function(s){return n.onSelectAllChange(s)}),t.YNc(15,D,19,0,"ng-template",13),t.YNc(16,M,13,4,"ng-template",14),t.YNc(17,q,2,1,"ng-template",15),t.qZA(),t.qZA(),t.qZA(),t.TgZ(18,"p-dialog",16),t.NdJ("visibleChange",function(s){return n.entityDialog=s}),t.YNc(19,N,12,4,"ng-template",17),t.YNc(20,J,2,0,"ng-template",18),t.qZA(),t._UZ(21,"p-confirmDialog"),t._UZ(22,"p-toast"),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&e&&(t.xp6(4),t.Q6J("model",n.items)("home",n.home),t.xp6(9),t.Q6J("value",n.liste)("lazy",!0)("selection",n.selectedEntity)("selectAll",n.selectAll)("paginator",!0)("rows",7)("totalRecords",n.totalRecords)("showCurrentPageReport",!0)("loading",n.loading)("rowsPerPageOptions",t.WLB(18,w,2*n.totalRecords,3*n.totalRecords)),t.xp6(5),t.Akn(t.DdM(21,k)),t.Q6J("visible",n.entityDialog)("modal",!0),t.xp6(3),t.Akn(t.DdM(22,P)))},directives:[b.a,Z.o,u.jx,a.iA,C.V,T.Q,v.FN,x.Hq,a.Mo,a.Q7,a.lQ,a.fz,a.xl,a.Ei,a.UA,r.Fj,A.o,r.Q7,r.JJ,r.On,d.O5],styles:["[_nghost-%COMP%]     .el{background-color:#fff!important;width:40vw!important;box-shadow:0 20px 20px #d8dde680;border:1px solid #e7e7e7}[_nghost-%COMP%]     .p-dialog-header .ng-star-inserted{color:#fff!important}"]}),i})()}];let B=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[m.Bz.forChild(E)],m.Bz]}),i})(),z=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[d.ez,B]]}),i})()}}]);