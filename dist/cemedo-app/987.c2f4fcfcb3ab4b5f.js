"use strict";(self.webpackChunkcemedoApp=self.webpackChunkcemedoApp||[]).push([[987],{83987:(D,d,o)=>{o.r(d),o.d(d,{ServiceModule:()=>H});var m=o(69808),g=o(91083),a=o(59783),h=o(45330),e=o(5e3),v=o(8696),_=o(40520);let f=(()=>{class i{constructor(t){this.http=t,this.baseUrl=v.G.BaseUrl.Url+"service_s/"}getListe(t){return this.http.get(this.baseUrl).toPromise().then(l=>l.data).then(l=>(console.log(l),l))}getListe1(){return this.http.get(this.baseUrl).toPromise().then(t=>t.data).then(t=>(console.log(t),t))}create(t){return console.log(t),this.http.post(this.baseUrl+"create",t)}deleteSelectedProducts(t){return this.http.post(this.baseUrl+"active",t)}update(t,l){return console.log(l),this.http.post(`${this.baseUrl+"update"}/${t}`,l)}delete(t){return this.http.get(`${this.baseUrl+"active"}/${t}`)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(_.eN))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var b=o(18901),Z=o(67658),S=o(44534),r=o(24851),C=o(15315),T=o(19114),y=o(17773),x=o(40845),A=o(14036),u=o(93075),U=o(31424);const M=["dt"];function w(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){return e.CHM(t),e.oxw().openNew()}),e.qZA(),e._uU(1," \xa0 "),e.TgZ(2,"button",19),e.NdJ("click",function(){return e.CHM(t),e.oxw().deleteSelectedProducts()}),e.qZA()}if(2&i){const t=e.oxw();e.xp6(2),e.Q6J("disabled",!t.selectedEntity||!t.selectedEntity.length)}}function q(i,s){1&i&&e._UZ(0,"button",20)}function R(i,s){1&i&&(e.TgZ(0,"tr"),e.TgZ(1,"th",21),e._UZ(2,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(3,"th",22),e._uU(4,"libelle "),e._UZ(5,"p-sortIcon",23),e.qZA(),e.TgZ(6,"th",24),e._uU(7,"Type service "),e._UZ(8,"p-sortIcon",25),e.qZA(),e.TgZ(9,"th",26),e._uU(10,"Actions"),e.qZA(),e.qZA(),e.TgZ(11,"tr"),e.TgZ(12,"th",21),e._UZ(13,"p-tableHeaderCheckbox"),e.qZA(),e.TgZ(14,"th"),e._UZ(15,"p-columnFilter",27),e.qZA(),e.TgZ(16,"th"),e._UZ(17,"p-columnFilter",28),e.qZA(),e._UZ(18,"th"),e.qZA())}function N(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"tr",29),e.TgZ(1,"td"),e._UZ(2,"p-tableCheckbox",30),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td",31),e.TgZ(8,"button",32),e.NdJ("click",function(){const c=e.CHM(t).$implicit;return e.oxw().editProduct(c)}),e.qZA(),e._uU(9," \xa0 "),e.TgZ(10,"button",33),e.NdJ("click",function(){const c=e.CHM(t).$implicit;return e.oxw().deleteProduct(c)}),e.qZA(),e._uU(11,"\xa0 "),e.TgZ(12,"button",34),e.NdJ("click",function(){const c=e.CHM(t).$implicit;return e.oxw().deleteProduct(c)}),e.qZA(),e.qZA(),e.qZA()}if(2&i){const t=s.$implicit;e.Q6J("pSelectableRow",t),e.xp6(2),e.Q6J("value",t),e.xp6(2),e.Oqu(t.libelle),e.xp6(2),e.Oqu(t.typeService.libelle)}}function J(i,s){if(1&i&&(e.TgZ(0,"div",35),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.hij(" Au total il y a ",t.liste?t.liste.length:0," enregistrement(s). ")}}function P(i,s){if(1&i&&(e.TgZ(0,"div",45),e.TgZ(1,"div"),e._uU(2),e.qZA(),e.qZA()),2&i){const t=e.oxw(3);e.xp6(2),e.Oqu(t.specialite.typeService.libelle)}}function k(i,s){if(1&i&&e.YNc(0,P,3,1,"div",44),2&i){const t=e.oxw(2);e.Q6J("ngIf",t.specialite.typeService)}}function L(i,s){if(1&i&&(e.TgZ(0,"div",46),e.TgZ(1,"div"),e._uU(2),e.qZA(),e.qZA()),2&i){const t=s.$implicit;e.xp6(2),e.Oqu(t.libelle)}}function Y(i,s){1&i&&(e.TgZ(0,"small",47),e._uU(1,"Libelle est requis."),e.qZA())}function E(i,s){if(1&i){const t=e.EpF();e._UZ(0,"br"),e.TgZ(1,"div",36),e.TgZ(2,"label",37),e._uU(3,"Type service"),e.qZA(),e.TgZ(4,"p-dropdown",38),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().specialite.typeService=n}),e.YNc(5,k,1,1,"ng-template",39),e.YNc(6,L,3,1,"ng-template",40),e.qZA(),e.qZA(),e._UZ(7,"br"),e.TgZ(8,"div",36),e.TgZ(9,"label",41),e._uU(10,"Libelle"),e.qZA(),e.TgZ(11,"input",42),e.NdJ("ngModelChange",function(n){return e.CHM(t),e.oxw().specialite.libelle=n}),e.qZA(),e.YNc(12,Y,2,0,"small",43),e.qZA(),e._UZ(13,"br"),e._UZ(14,"br"),e._UZ(15,"br"),e._UZ(16,"br"),e._UZ(17,"hr")}if(2&i){const t=e.oxw();e.xp6(4),e.Q6J("options",t.liste_typeService)("ngModel",t.specialite.typeService)("filter",!0)("showClear",!0),e.xp6(7),e.Q6J("ngModel",t.specialite.libelle),e.xp6(1),e.Q6J("ngIf",t.submitted&&!t.specialite.libelle)}}function B(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",48),e.NdJ("click",function(){return e.CHM(t),e.oxw().hideDialog()}),e.qZA(),e.TgZ(1,"button",49),e.NdJ("click",function(){return e.CHM(t),e.oxw().saveProduct()}),e.qZA()}}const z=function(i,s){return[7,i,s]},I=function(){return{width:"750px","margin-top":"-90px"}},Q=function(){return{width:"450px"}},O=[{path:"liste",component:(()=>{class i{constructor(t,l,n,c,p,j){this.dialogService=t,this.service=l,this.messageService=n,this.confirmationService=c,this.typeServiceService=p,this.primeConfig=j,this.selectAll=!1,this.cols=[],this.data_create={id:null,libelle:"",createdAt:"",typeService:{id:null,libelle:""},updatedAt:"",version:null,active:null},this.data_delete=Array()}ngOnInit(){this.items=[{label:"Service"},{label:"Liste des services",routerLink:""}],this.home={icon:"pi pi-home"},this.typeServiceService.getListe().then(t=>this.liste_typeService=t.filter(l=>0==l.active)),this.primeConfig.ripple=!0,this.loading=!0,this.service.getListe().then(t=>{this.liste=t.slice(0,6).filter(l=>0==l.active),this.totalRecords=this.liste.length}),this.service.getListe().then(t=>{this.virtuelle=t.filter(l=>0==l.active),this.totalRecords=this.virtuelle.length,this.loading=!1,console.log(this.virtuelle)})}loadCustomers(t){this.loading=!0,setTimeout(()=>{this.virtuelle&&(this.liste=this.virtuelle.slice(t.first,t.first+t.rows),this.loading=!1)},1e3)}getEventValue(t){return console.log(t.target.value),t.target.value}onSelectAllChange(t){t.checked?this.service.getListe().then(n=>{this.selectedEntity=n,this.selectAll=!0}):(this.selectedEntity=[],this.selectAll=!1)}openNew(){this.specialite=this.data_create,this.submitted=!1,this.entityDialog=!0}deleteSelectedProducts(){this.confirmationService.confirm({message:" Voulez vous r\xe9ellement supprimer ces enregistrements ?",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:()=>{this.liste=this.liste.filter(t=>!this.selectedEntity.includes(t)),this.selectedEntity.forEach(t=>{this.data_delete.push(t.id)}),this.selectedEntity=null,this.service.deleteSelectedProducts(this.data_delete).subscribe(t=>{this.loading=!0,setTimeout(()=>{this.messageService.add({severity:"success",summary:"Successful",detail:"Enregistrement (s) effectu\xe9 (s) avec succes",life:3e3}),this.loading=!1},1e3)})}})}editProduct(t){this.specialite=Object.assign({},t),this.entityDialog=!0}deleteProduct(t){this.confirmationService.confirm({message:" Voulez vous r\xe9ellement supprimer cet enregistrement ? ",header:"Confirmation",icon:"pi pi-exclamation-triangle",accept:()=>{this.liste=this.liste.filter(l=>l.id!==t.id),this.specialite=Object.assign({},t),this.service.delete(this.specialite.id).subscribe(l=>{this.loading=!0,setTimeout(()=>{this.loading=!1,this.messageService.add({severity:"success",summary:"Succes",detail:"Suppression effectu\xe9e avec success",life:3e3})},1e3)})}})}hideDialog(){this.entityDialog=!1,this.submitted=!1}saveProduct(){this.submitted=!0;const t={libelle:this.specialite.libelle,typeService:this.specialite.typeService.id};this.specialite.libelle.trim()&&(this.specialite.id?(this.liste[this.findIndexById(this.specialite.id)]=this.specialite,this.service.update(this.specialite.id,t).subscribe(l=>{this.loading=!0,setTimeout(()=>{this.messageService.add({severity:"success",summary:"Successful",detail:"Mise \xe0 jour effectu\xe9e avec success",life:3e3}),this.loading=!1},1e3)})):(this.service.create(t).subscribe(l=>{this.loading=!0,setTimeout(()=>{this.loading=!1,this.messageService.add({severity:"success",summary:"Successful",detail:"Ajout effectu\xe9 avec success",life:3e3})},1e3)}),this.liste.push(this.specialite)),this.liste=[...this.liste],this.entityDialog=!1,this.specialite=Object.assign({},this.specialite))}findIndexById(t){let l=-1;for(let n=0;n<this.liste.length;n++)if(this.liste[n].id===t){l=n;break}return l}createId(){return 1}onSelectionChange(t=[]){this.selectAll=t.length===this.totalRecords,this.selectedEntity=t}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(h.xA),e.Y36(f),e.Y36(a.ez),e.Y36(a.YP),e.Y36(b.L),e.Y36(a.b4))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-service"]],viewQuery:function(t,l){if(1&t&&e.Gf(M,5),2&t){let n;e.iGM(n=e.CRH())&&(l.dt=n.first)}},features:[e._Bn([a.ez,a.YP,h.xA])],decls:22,vars:23,consts:[[1,"content"],[1,"content-block"],[1,"block-header"],[3,"model","home"],[1,"row","clearfix"],[1,"col-xs-12","col-sm-12","col-md-12","col-lg-12"],[1,"card"],[1,"body"],["styleClass","mb-4"],["pTemplate","left"],["pTemplate","right"],["dataKey","id","styleClass","p-datatable-gridlines","currentPageReportTemplate","Affichage de {first} \xe0 {last} sur  {totalRecords} entr\xe9es",3,"value","lazy","selection","selectAll","paginator","rows","totalRecords","showCurrentPageReport","loading","rowsPerPageOptions","onLazyLoad","selectionChange","selectAllChange"],["pTemplate","header"],["pTemplate","body"],["pTemplate","summary"],["header","Service","styleClass","p-fluid el",3,"visible","modal","visibleChange"],["pTemplate","content"],["pTemplate","footer"],["pButton","","pRipple","","label","Nouveau","icon","pi pi-plus",1,"p-button-success","mr-2",3,"click"],["pButton","","pRipple","","label","Supprimer","icon","pi pi-trash",1,"p-button-danger",3,"disabled","click"],["pButton","","pRipple","","label","Imprimer","icon","pi pi-upload",1,"p-button-help","btn-view"],[2,"width","3rem"],["pResizableColumn","","pSortableColumn","libelle"],["field","libelle"],["pResizableColumn","","pSortableColumn","typeService"],["field","typeService"],["pResizableColumn",""],["type","text","field","libelle"],["type","text","field","typeService.libelle"],[3,"pSelectableRow"],[3,"value"],["width","200px"],["pButton","","pRipple","","icon","pi pi-pencil",1,"p-button","p-button-success","btn-sm","btn-edit",3,"click"],["pButton","","pRipple","","icon","pi pi-check",1,"p-button","p-button-help","btn-sm","btn-view",3,"click"],["pButton","","pRipple","","icon","pi pi-trash",1,"p-button","p-button-warning","btn-sm","btn-delete",3,"click"],[1,"flex","align-items-center","justify-content-between"],[1,"field"],["for","typeService"],["optionLabel","libelle","filterBy","libelle","placeholder","Selectionner un type Service",3,"options","ngModel","filter","showClear","ngModelChange"],["pTemplate","specialite.typeService"],["pTemplate","id"],["for","libelle"],["type","text","pInputText","","id","libelle","autofocus","",3,"ngModel","ngModelChange"],["class","p-error",4,"ngIf"],["class","typeService-id typeService-id",4,"ngIf"],[1,"typeService-id","typeService-id"],[1,"typeService-id"],[1,"p-error"],["pButton","","pRipple","","label","Annuler","icon","pi pi-times",1,"p-button","p-button-help","btn-delete",3,"click"],["pButton","","pRipple","","label","Valider","icon","pi pi-check",1,"p-button-success","btn-view",3,"click"]],template:function(t,l){1&t&&(e.TgZ(0,"section",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e._UZ(3,"br"),e._UZ(4,"p-breadcrumb",3),e._UZ(5,"br"),e.qZA(),e.TgZ(6,"div",4),e.TgZ(7,"div",5),e.TgZ(8,"div",6),e.TgZ(9,"div",7),e.TgZ(10,"p-toolbar",8),e.YNc(11,w,3,1,"ng-template",9),e.YNc(12,q,1,0,"ng-template",10),e.qZA(),e.TgZ(13,"p-table",11),e.NdJ("onLazyLoad",function(c){return l.loadCustomers(c)})("selectionChange",function(c){return l.onSelectionChange(c)})("selectAllChange",function(c){return l.onSelectAllChange(c)}),e.YNc(14,R,19,0,"ng-template",12),e.YNc(15,N,13,4,"ng-template",13),e.YNc(16,J,2,1,"ng-template",14),e.qZA(),e.TgZ(17,"p-dialog",15),e.NdJ("visibleChange",function(c){return l.entityDialog=c}),e.YNc(18,E,18,6,"ng-template",16),e.YNc(19,B,2,0,"ng-template",17),e.qZA(),e._UZ(20,"p-confirmDialog"),e._UZ(21,"p-toast"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&t&&(e.xp6(4),e.Q6J("model",l.items)("home",l.home),e.xp6(9),e.Q6J("value",l.liste)("lazy",!0)("selection",l.selectedEntity)("selectAll",l.selectAll)("paginator",!0)("rows",7)("totalRecords",l.totalRecords)("showCurrentPageReport",!0)("loading",l.loading)("rowsPerPageOptions",e.WLB(18,z,2*l.totalRecords,3*l.totalRecords)),e.xp6(4),e.Akn(e.DdM(21,I)),e.Q6J("visible",l.entityDialog)("modal",!0),e.xp6(3),e.Akn(e.DdM(22,Q)))},directives:[Z.a,S.o,a.jx,r.iA,C.V,T.Q,y.FN,x.Hq,r.Mo,r.Q7,r.lQ,r.fz,r.xl,r.Ei,r.UA,A.Lt,u.JJ,u.On,u.Fj,U.o,m.O5],styles:["[_nghost-%COMP%]     .el{background-color:#fff!important;width:40vw!important;box-shadow:0 20px 20px #d8dde680;border:1px solid #e7e7e7}[_nghost-%COMP%]     .p-dialog-header .ng-star-inserted{color:#fff!important}"]}),i})()}];let F=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[g.Bz.forChild(O)],g.Bz]}),i})(),H=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[[m.ez,F]]}),i})()}}]);